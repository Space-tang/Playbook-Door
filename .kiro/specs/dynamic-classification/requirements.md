# 需求文档

## 介绍

本功能为 Playbook Door 平台实现动态分类系统，根据项目目录中 `__meta__.txt` 文件的 `class` 字段自动生成分类标签页。该系统将替换当前硬编码的分类系统，提供灵活的、数据驱动的方法来适应仓库中的实际内容。

## 需求

### 需求 1

**用户故事：** 作为浏览平台的用户，我希望看到根据实际项目分类自动生成的分类标签页，以便我可以基于仓库中存在的真实分类来筛选内容。

#### 验收标准

1. 当系统加载目录数据时，系统应扫描所有 `__meta__.txt` 文件中的 `class` 字段
2. 当找到 `class` 字段时，系统应将该分类添加到可用分类中
3. 当多个项目具有相同的 `class` 值时，系统应将它们归类到同一个分类标签页下
4. 当系统遇到重复的 class 值时，系统应将它们合并为单个分类

### 需求 2

**用户故事：** 作为查看没有明确分类的项目的用户，我希望它们被归类为"未定义"，以便所有内容都能得到适当的组织和访问。

#### 验收标准

1. 当 `__meta__.txt` 文件没有 `class` 字段时，系统应将项目分配到"未定义"分类
2. 当 `__meta__.txt` 文件的 `class` 字段为空时，系统应将项目分配到"未定义"分类
3. 当"未定义"分类包含项目时，它应作为可选择的标签页出现，并显示正确的计数

### 需求 3

**用户故事：** 作为用户，我希望看到每个分类标签页的准确计数，以便我知道每个分类中有多少个项目。

#### 验收标准

1. 当显示分类标签页时，每个标签页应显示该分类中项目的正确计数
2. 当选择"全部"标签页时，它应显示所有项目的总计数
3. 当项目数据刷新时，分类计数应相应更新

### 需求 4

**用户故事：** 作为用户，我希望"全部"标签页保持可用并显示所有项目，无论它们的分类如何，以便我在需要时可以查看完整的项目列表。

#### 验收标准

1. 当分类系统加载时，"全部"标签页应始终作为第一个标签页存在
2. 当选择"全部"标签页时，它应显示来自所有分类的所有项目
3. 当按"全部"筛选时，不应应用基于分类的筛选

### 需求 5

**用户故事：** 作为用户，我希望分类标签页的排序保持一致，以便界面可预测且易于导航。

#### 验收标准

1. 当显示分类标签页时，"全部"应始终是第一个标签页
2. 当存在多个动态分类时，它们应在"全部"标签页之后按字母顺序排序
3. 当存在"未定义"分类时，它应出现在标签页顺序的最后